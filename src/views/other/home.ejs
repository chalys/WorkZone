<!DOCTYPE html>
<html lang="es">
<!-- Head -->
<%- include("../partials/head",{title:"Inicio"}) %>

    <body>
        <!-- Header -->
        <%- include("../partials/header") %>
            <!-- Main -->
            <main>
                <%- include("../partials/banner") %>
                    <!-- Section info-cards -->
                    <section class="info-cards">
                        <div class="container py-3">
                            <div class="row">
                                <!-- Card 1 -->
                                <div class="col-12 col-sm-6 col-md-3 mb-3 mb-lg-0 ">
                                    <div class="card text-center border-0 d-flex flex-lg-row flex-column info-card">
                                        <div class="card-header bg-transparent border-0  pt-lg-3">
                                            <i class="fa-solid fa-truck-ramp-box fs-1 text-primary"></i>
                                        </div>
                                        <div class="card-body text-lg-start text-center">
                                            <h3 class="card-title fs-6 text-wrap">ENVIÓS A TODO EL PAÍS</h3>
                                            <p class="card-text small text-muted text-wrap">Consultar montos</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card 2 -->
                                <div class="col-12 col-sm-6 col-md-3 mb-3 mb-lg-0">
                                    <div class="card text-center border-0 d-flex flex-lg-row flex-column info-card">
                                        <div class="card-header bg-transparent border-0 pt-lg-3">
                                            <i class="fa-solid fa-truck-fast fs-1 text-primary"></i>
                                        </div>
                                        <div class="card-body text-lg-start text-center">
                                            <h3 class="card-title fs-6 text-wrap">ENVIÓS AMBA 48HS - INTERIOR 72/96HS
                                            </h3>
                                            <p class="card-text small text-muted text-wrap">Envios</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card 3 -->
                                <div class="col-12 col-sm-6 col-md-3">
                                    <div class="card text-center border-0 d-flex flex-lg-row flex-column info-card">
                                        <div class="card-header bg-transparent border-0 pt-lg-3">
                                            <i class="fa-regular fa-credit-card fs-1 text-primary"></i>
                                        </div>
                                        <div class="card-body text-lg-start text-center">
                                            <h3 class="card-title fs-6 text-wrap">PAGOS CON</h3>
                                            <p class="card-text small text-muted text-wrap">Transferencia bancaria y
                                                tarjetas</p>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card 4 -->
                                <div class="col-12 col-sm-6 col-md-3">
                                    <div class="card text-center border-0 d-flex flex-lg-row flex-column info-card">
                                        <div class="card-header bg-transparent border-0 pt-lg-3">
                                            <i class="fa-solid fa-award fs-1 text-primary"></i>
                                        </div>
                                        <div class="card-body text-lg-start text-center">
                                            <h3 class="card-title fs-6 text-wrap">GARANTÍA WORKZONE</h3>
                                            <p class="card-text small text-muted text-wrap">Garantía de calidad, con
                                                opción a devolución.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <!-- /Section info-cards -->
                    <!-- Section products -->
                    <section class="products py-5" id="products">
                        <div class="container">
                            <header class="text-center mb-4">
                                <h2 class="fw-bold">Colección Destacada</h2>
                            </header>
                            <div id="multi-item-carousel" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-inner">
                                    <% for (let i=0; i < 30; i +=4) { %>
                                        <div class="carousel-item <%= i === 0 ? 'active' : '' %>">
                                            <div class="row g-4">
                                                <% for (let j=i; j < i + 4 && j < products.length; j++) { %>
                                                    <div class="col-12 col-sm-6 col-md-4 col-lg-3">
                                                        <article class="card h-100 product-card">
                                                            <div class="position-relative">
                                                                <img class="card-img-top"
                                                                    src="./images/products/<%= products[j].image %>"
                                                                    alt="<%= products[j].name %>">
                                                                    <i class="fa-heart product-card__favorite-icon position-absolute top-0 end-0 p-2"
                                                                    data-product-id="<%= products[j].id %>"></i>
                                                            </div>
                                                            <div class="card-body text-start">
                                                                <!-- <p class="card-text small text-muted mb-0">
                                                                    <%= products[j].category %>
                                                                </p> -->
                                                                <% const category = categories.find(cat => cat.id === products[j].category_id); %>
                                                                <p class="card-text small text-muted mb-0"><%= category ? category.categoryName : "Sin categoría" %></p>   
                                                                <h5 class="card-title">
                                                                    <%= products[j].name %>
                                                                </h5>
                                                                <p class="card-text fw-bold text--green">
                                                                    <%= converterMoneyArg(products[j].price) %>
                                                                </p>
                                                            </div>
                                                            <div
                                                                class="card-footer bg-white d-flex justify-content-between gap-2 border-0">
                                                                <a href="/productos/detalle/<%= products[j].id %>"
                                                                    class="btn btn--secondary w-100">
                                                                    VER MÁS
                                                                </a>
                                                                <button class="btn btn--primary" type="button"
                                                                    onclick="addProductCart('<%= products[j].id %>')">
                                                                    <i class="fa-solid fa-cart-shopping"></i>
                                                                </button>
                                                            </div>
                                                        </article>
                                                    </div>
                                                    <% } %>
                                            </div>
                                        </div>
                                        <% } %>
                                </div>
                                <!-- Controles del carrusel -->
                                <button class="carousel-control-prev" type="button"
                                    data-bs-target="#multi-item-carousel" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon " aria-hidden="true"></span>
                                    <span class="visually-hidden btn--secondary">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button"
                                    data-bs-target="#multi-item-carousel" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                            <div class="text-center mt-4">
                                <a href="/productos/lista" class="btn btn--tertiary">VER MÁS</a>
                            </div>
                        </div>
                    </section>

                    <!-- /Section products -->
                    <!-- Section categories -->
                    <section class="categories" id="categories">


                        <header class="categories__header">
                            <h2 class="categories__title">Principales Categorías</h2>
                        </header>
                        <div class="categories__grid">
                            <article class="category-card">
                                <div class="category-card__image-container">
                                    <img src="images/categories/craneana.jpg" alt="Categoría"
                                        class="category-card__image">
                                    <p class="category-card__name">CRANEANA</p>
                                </div>
                            </article>
                            <article class="category-card">
                                <div class="category-card__image-container">
                                    <img src="images/categories/auditiva.jpg" alt="Categoría"
                                        class="category-card__image">
                                    <p class="category-card__name">AUDITIVA</p>
                                </div>
                            </article>
                            <article class="category-card">
                                <div class="category-card__image-container">
                                    <img src="images/categories/respiratoria.png" alt="Categoría"
                                        class="category-card__image">
                                    <p class="category-card__name">RESPIRATORIA</p>
                                </div>
                            </article>
                            <article class="category-card">
                                <div class="category-card__image-container">
                                    <img src="images/categories/ocular.jpg" alt="Categoría"
                                        class="category-card__image">
                                    <p class="category-card__name">OCULAR</p>
                                </div>
                            </article>
                            <article class="category-card">
                                <div class="category-card__image-container">
                                    <img src="images/categories/protector-facial.jpg" alt="Categoría"
                                        class="category-card__image">
                                    <p class="category-card__name">FACIAL</p>
                                </div>
                            </article>
                        </div>
                        <button class="categories__view-more btn btn--tertiary">VER MÁS</button>
                    </section>
                    <!-- /Section categories -->

                    <!-- Section about -->
                    <section class="about py-5" id="about">
                        <div class="container">
                            <!-- Título -->
                            <header class="text-center mb-4">
                                <h2 class="fw-bold">¿Por qué Nosotros?</h2>
                            </header>
                            <!-- Contenido -->
                            <div class="row justify-content-center">
                                <div class="col-lg-8 col-md-10">
                                    <p class="text-justify">
                                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit
                                        voluptates quo nemo neque
                                        nesciunt similique minus itaque impedit eveniet blanditiis dicta est nam in
                                        perferendis tenetur,
                                        error eum dolore doloremque, quasi pariatur sint natus exercitationem mollitia
                                        veniam!
                                    </p>
                                </div>
                            </div>
                            <!-- Botón centrado -->
                            <div class="text-center mt-4">
                                <a href="/sobre-workzone" class="btn btn--secondary">VER MÁS</a>
                            </div>
                        </div>
                    </section>
                    <!-- /Section about -->
                    <!-- Section review -->
                    <section class="contact py-5" id="contact">
                        <div class="container">
                            <!-- Título -->
                            <header class="text-center mb-4">
                                <h2 class="fw-bold">Reseñas</h2>
                            </header>
                            <!-- Contenido -->
                            <div class="row justify-content-center">
                                <% reviews.forEach(r=> { %>
                                    <div class="col-12 col-md-6 col-lg-3 mb-4">
                                        <div class="card border-1 shadow-sm h-100">
                                            <div class="card-body">
                                                <div class="rating-stars my-2">
                                                    <% for (let i=1; i <=5; i++) { %>
                                                        <i
                                                            class="fa-star <%= i <= r.rating ? 'fas text-warning' : 'far text-secondary' %>"></i>
                                                        <% } %>
                                                </div>
                                                <p class="card-text">
                                                    <%= r.comment%>
                                                </p>
                                            </div>
                                            <% const user=users.find(u=> u.id === r.user_id);
                                                if (user) { %>
                                                <div class="card-footer  align-items-center bg-white border-0">
                                                    <div class="d-flex align-items-center">

                                                        <img src="images/users/<%=user.profileImage%>"
                                                            alt="<%=user.userName%>" class="rounded-circle me-3"
                                                            width="50">
                                                        <div class="text-start">
                                                            <p class="fw-bold mb-0">
                                                                <%= user.userName %>
                                                            </p>
                                                            <p class="text-muted mb-1 small">
                                                                <%= timeSince(r.created_at) %>
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="review__social-icons d-flex justify-content-end gap-2">
                                                        <% if (user.socialMedia?.facebook) { %>
                                                            <a href="<%= user.socialMedia.facebook %>" target="_blank" class="text-decoration-none">
                                                                <i class="fa-brands fa-facebook text--link"></i>
                                                            </a>                     
                                                        <% } %>
                                                        <% if (user.socialMedia?.instagram){ %>
                                                            <a href="<%= user.socialMedia.instagram %>" target="_blank" class= "text-decoration-none">
                                                                <i class="fa-brands fa-instagram text--link"></i>
                                                            </a>
                                                        <% } %>
                                                        <% if (user.socialMedia?.x){%>
                                                            <a href="<%= user.socialMedia.x %>" target="_blank" class= "text-decoration-none">
                                                                <i class="fa-brands fa-x-twitter text--link"></i>
                                                            </a>
                                                        <% } %>
                                                    </div>
                                                </div>
                                            <% } %>
                                        </div>
                                    </div>
                                <% }); %>
                            </div>
                        </div>
                    </section>
                    

                    <!-- Section newsletter -->
                    <%- include("../partials/newsletter") %>
                    
            </main>
            <%- include("../partials/footer") %>
                <!-- Scripts -->
                <%- include("../partials/scripts") %>
    </body>

</html>